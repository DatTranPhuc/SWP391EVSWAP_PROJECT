<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV SWAP Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}" href="/css/dashboard.css">
</head>
<body class="dashboard-body">
<div class="background-gradient"></div>
<div class="background-glow"></div>

<header class="top-nav">
    <div class="container nav-inner">
        <div class="brand">
            <span class="brand-icon">üì∫</span>
            <span class="brand-name">EV SWAP</span>
        </div>
        <nav class="nav-links" aria-label="ƒêi·ªÅu h∆∞·ªõng ch√≠nh">
            <th:block th:if="${loggedIn}">
                <a th:href="@{/dashboard}" th:classappend="${activePage} == 'overview' ? ' active' : ''">T·ªïng quan</a>
                <a th:href="@{/dashboard/vehicles}" th:classappend="${activePage} == 'vehicles' ? ' active' : ''">Ph∆∞∆°ng ti·ªán</a>
                <a th:href="@{/dashboard/reservations}" th:classappend="${activePage} == 'reservations' ? ' active' : ''">L·ªãch ƒë·ªïi</a>
                <a th:href="@{/dashboard/payments}" th:classappend="${activePage} == 'payments' ? ' active' : ''">Thanh to√°n</a>
                <a th:href="@{/dashboard/notifications}" th:classappend="${activePage} == 'notifications' ? ' active' : ''">Th√¥ng b√°o</a>
                <a th:href="@{/dashboard/support}" th:classappend="${activePage} == 'support' ? ' active' : ''">H·ªó tr·ª£</a>
                <a th:href="@{/operations/console}">V·∫≠n h√†nh</a>
                <a th:href="@{/admin/console}">Qu·∫£n tr·ªã</a>
            </th:block>
            <th:block th:if="${!loggedIn}">
                <a href="#overview">T·ªïng quan</a>
                <a href="#benefits">Ph∆∞∆°ng ti·ªán</a>
                <a href="#stations">T√¨m tr·∫°m</a>
                <a href="#reports">B√°o c√°o</a>
                <a href="#account">T√†i kho·∫£n</a>
                <a href="#support">H·ªó tr·ª£</a>
            </th:block>
        </nav>
        <div class="auth-area" th:if="${loggedIn}">
            <span class="welcome">Xin ch√†o, <strong th:text="${driverName}">ng∆∞·ªùi d√πng</strong>!</span>
            <form th:action="@{/logout}" method="post">
                <button class="btn ghost" type="submit">ƒêƒÉng xu·∫•t</button>
            </form>
        </div>
        <div class="auth-area" th:if="${!loggedIn}">
            <a class="btn ghost" th:href="@{/login}">ƒêƒÉng nh·∫≠p</a>
            <a class="btn primary" th:href="@{/register}">ƒêƒÉng k√Ω</a>
        </div>
    </div>
</header>

<main>
    <div class="container">
        <p class="alert" th:if="${loginSuccess}" th:text="${loginSuccess}"></p>
    </div>

    <section id="overview" class="hero-section container">
        <div class="hero-content">
            <p class="hero-subtitle">T∆∞∆°ng lai xanh cho Vi·ªát Nam</p>
            <h1 class="hero-title">ƒê·ªïi pin xe ƒëi·ªán <span>ch·ªâ trong 3 ph√∫t</span></h1>
            <p class="hero-description">H·ªá th·ªëng ƒë·ªïi pin th√¥ng minh v·ªõi c√¥ng ngh·ªá ti√™n ti·∫øn, tr·∫°m r·ªông kh·∫Øp v√† ƒë·ªôi ng≈© h·ªó tr·ª£ nhanh ch√≥ng. Tr·∫£i nghi·ªám t∆∞∆°ng lai di chuy·ªÉn xanh ngay h√¥m nay.</p>
            <div class="hero-cta">
                <a th:href="@{/register}" class="btn primary">ƒêƒÉng k√Ω ngay</a>
                <a th:href="@{/login}" class="btn outline">ƒê√£ c√≥ t√†i kho·∫£n</a>
            </div>
            <div class="hero-actions" th:if="${loggedIn}">
                <div class="action-buttons">
                    <a th:href="@{/dashboard}" class="nav-button">T·ªïng quan</a>
                    <a th:href="@{/dashboard/vehicles}" class="nav-button">Ph∆∞∆°ng ti·ªán</a>
                    <a th:href="@{/dashboard/reservations}" class="nav-button">L·ªãch ƒë·ªïi</a>
                    <a th:href="@{/dashboard/payments}" class="nav-button">Thanh to√°n</a>
                    <a th:href="@{/dashboard/notifications}" class="nav-button">Th√¥ng b√°o</a>
                    <a th:href="@{/dashboard/support}" class="nav-button">H·ªó tr·ª£</a>
                </div>
            </div>
            <div class="hero-actions locked" th:if="${!loggedIn}">
                <div class="action-buttons">
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">T·ªïng quan</button>
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">Ph∆∞∆°ng ti·ªán</button>
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">T√¨m tr·∫°m</button>
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">B√°o c√°o</button>
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">T√†i kho·∫£n</button>
                    <button type="button" class="nav-button locked" onclick="openLoginModal()">H·ªó tr·ª£</button>
                </div>
            </div>
        </div>
        <div class="hero-card">
            <div class="card-icon">üì∫</div>
            <div class="card-metric">
                <span class="metric-label">S·ªë ƒëi·ªÉm ƒë·ªïi pin</span>
                <span class="metric-value">156 tr·∫°m</span>
            </div>
            <div class="card-metric">
                <span class="metric-label">Kho·∫£ng c√°ch g·∫ßn nh·∫•t</span>
                <span class="metric-value">2.3 km</span>
            </div>
            <div class="card-rating">
                <span class="metric-label">ƒê√°nh gi√°</span>
                <div class="rating-value">‚≠ê 4.9/5.0</div>
            </div>
        </div>
    </section>

    <section class="stats-section container">
        <div class="stat-card">
            <div class="stat-value">50+</div>
            <div class="stat-label">Tr·∫°m ƒë·ªïi pin</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">3 ph√∫t</div>
            <div class="stat-label">Th·ªùi gian ƒë·ªïi</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">24/7</div>
            <div class="stat-label">D·ªãch v·ª•</div>
        </div>
    </section>

    <section id="benefits" class="feature-section container">
        <div class="section-header">
            <span class="section-badge">T√≠nh nƒÉng</span>
            <h2 class="section-title">T·∫°i sao ch·ªçn EV SWAP?</h2>
            <p class="section-description">Gi·∫£i ph√°p ƒë·ªïi pin th√¥ng minh v·ªõi c√¥ng ngh·ªá ti√™n ti·∫øn v√† d·ªãch v·ª• t·ªëi nh·∫•t d√†nh cho ng∆∞·ªùi d√πng xe m√°y ƒëi·ªán.</p>
        </div>
        <div class="feature-grid">
            <article class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>Si√™u nhanh 3 ph√∫t</h3>
                <p>Ch·ªâ m·∫•t 3 ph√∫t ƒë·ªÉ thay pin, s·∫µn s√†ng ti·∫øp t·ª•c h√†nh tr√¨nh m√† kh√¥ng c·∫ßn ch·ªù s·∫°c.</p>
            </article>
            <article class="feature-card">
                <div class="feature-icon">üåê</div>
                <h3>M·∫°ng l∆∞·ªõi r·ªông kh·∫Øp</h3>
                <p>H∆°n 50 tr·∫°m ph·ªß kh·∫Øp c·∫£ n∆∞·ªõc, lu√¥n trong b√°n k√≠nh d∆∞·ªõi 5km.</p>
            </article>
            <article class="feature-card">
                <div class="feature-icon">üõ°Ô∏è</div>
                <h3>An to√†n tuy·ªát ƒë·ªëi</h3>
                <p>Pin ƒë∆∞·ª£c ki·ªÉm ƒë·ªãnh nghi√™m ng·∫∑t, ƒë·∫£m b·∫£o an to√†n cho ng∆∞·ªùi d√πng v√† ph∆∞∆°ng ti·ªán.</p>
            </article>
        </div>
    </section>

    <section class="feature-section container">
        <div class="feature-grid">
            <article class="feature-card">
                <div class="feature-icon">üí∞</div>
                <h3>Ti·∫øt ki·ªám chi ph√≠</h3>
                <p>Ch·ªâ 25.000ƒë m·ªói l·∫ßn ƒë·ªïi. Ti·∫øt ki·ªám 60% so v·ªõi xƒÉng truy·ªÅn th·ªëng.</p>
            </article>
            <article class="feature-card">
                <div class="feature-icon">üïí</div>
                <h3>Ho·∫°t ƒë·ªông 24/7</h3>
                <p>Tr·∫°m ƒë·ªïi pin ph·ª•c v·ª• kh√¥ng ng·ª´ng ngh·ªâ, h·ªó tr·ª£ m·ªçi nhu c·∫ßu di chuy·ªÉn.</p>
            </article>
            <article class="feature-card">
                <div class="feature-icon">üå±</div>
                <h3>Th√¢n thi·ªán m√¥i tr∆∞·ªùng</h3>
                <p>Gi·∫£m ph√°t th·∫£i CO<sub>2</sub>, g√≥p ph·∫ßn x√¢y d·ª±ng t∆∞∆°ng lai giao th√¥ng xanh.</p>
            </article>
        </div>
    </section>

    <section id="reports" class="demo-section container">
        <h2 class="section-title">Tr·∫£i nghi·ªám ngay</h2>
        <p class="section-description">ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n demo ƒë·ªÉ kh√°m ph√° ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng h·ªá th·ªëng.</p>
        <div class="demo-grid">
            <div class="demo-card">
                <div class="demo-icon">üõ°Ô∏è</div>
                <h3>Admin</h3>
                <p>Email: admin@evswap.com</p>
                <p>M·∫≠t kh·∫©u: Admin123456</p>
                <a th:href="@{/login}" class="btn ghost small">ƒêƒÉng nh·∫≠p Admin</a>
            </div>
            <div class="demo-card">
                <div class="demo-icon">üë•</div>
                <h3>Staff</h3>
                <p>Nh√¢n vi√™n tr·∫°m ƒë∆∞·ª£c Admin c·∫•p quy·ªÅn truy c·∫≠p dashboard.</p>
                <a th:href="@{/login}" class="btn ghost small">ƒêƒÉng nh·∫≠p Staff</a>
            </div>
            <div class="demo-card">
                <div class="demo-icon">üõµ</div>
                <h3>Driver</h3>
                <p>ƒêƒÉng k√Ω t√†i kho·∫£n Driver ƒë·ªÉ s·ª≠ d·ª•ng d·ªãch v·ª• ƒë·ªïi pin ti·ªán l·ª£i.</p>
                <a th:href="@{/register}" class="btn primary small">ƒêƒÉng k√Ω Driver</a>
            </div>
        </div>
    </section>

    <section id="account" class="cta-section">
        <div class="container cta-inner">
            <div class="cta-content">
                <h2>S·∫µn s√†ng chuy·ªÉn ƒë·ªïi sang t∆∞∆°ng lai xanh?</h2>
                <p>Gia nh·∫≠p c·ªông ƒë·ªìng h∆°n 10,000 t√†i x·∫ø s·ª≠ d·ª•ng EV SWAP. Tr·∫£i nghi·ªám c√¥ng ngh·ªá ƒë·ªïi pin th√¥ng minh ngay h√¥m nay.</p>
            </div>
            <div class="cta-actions">
                <a th:href="@{/register}" class="btn primary">ƒêƒÉng k√Ω ngay</a>
                <a th:href="@{/login}" class="btn outline">ƒêƒÉng nh·∫≠p</a>
            </div>
        </div>
    </section>

    <section id="support" class="preview-section container">
        <div class="preview-card">
            <div class="preview-header">
                <span class="brand-icon">üì∫</span>
                <h3>EV SWAP</h3>
                <p>H·ªá th·ªëng ƒë·ªïi pin xe m√°y ƒëi·ªán th√¥ng minh nh·∫•t Vi·ªát Nam.</p>
            </div>
            <ul class="preview-list">
                <li>ƒê·ªïi pin si√™u nhanh</li>
                <li>M·∫°ng l∆∞·ªõi r·ªông kh·∫Øp</li>
                <li>An to√†n tuy·ªát ƒë·ªëi</li>
            </ul>
            <a th:href="@{/login}" class="btn ghost full">ƒêƒÉng nh·∫≠p</a>
        </div>
        <div class="preview-card dark">
            <h3>H·ªó tr·ª£ ∆∞u ti√™n</h3>
            <p>K√≠ch ho·∫°t t√†i kho·∫£n ƒë·ªÉ nh·∫≠n t∆∞ v·∫•n ri√™ng v√† ƒë·∫∑c quy·ªÅn chƒÉm s√≥c kh√°ch h√†ng.</p>
            <ul class="preview-list">
                <li>ƒê·ªôi ng≈© tr·ª±c 24/7</li>
                <li>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng chi ti·∫øt</li>
                <li>∆Øu ƒë√£i d√†nh ri√™ng h·ªôi vi√™n</li>
            </ul>
            <a th:href="@{/register}" class="btn primary full">Tham gia ngay</a>
        </div>
    </section>

    <section class="footer container">
        <p th:if="${dashboardMessage}" th:text="${dashboardMessage}" class="footer-message"></p>
        <p class="footer-note">¬© 2024 EV SWAP. M·∫°ng l∆∞·ªõi ƒë·ªïi pin xe m√°y ƒëi·ªán th√¥ng minh ƒë·∫ßu ti√™n t·∫°i Vi·ªát Nam.</p>
    </section>
</main>

<div class="login-modal" id="login-modal" role="dialog" aria-modal="true" aria-labelledby="login-modal-title" hidden>
    <div class="login-modal__overlay" onclick="closeLoginModal()"></div>
    <div class="login-modal__dialog">
        <button type="button" class="login-modal__close" aria-label="ƒê√≥ng" onclick="closeLoginModal()">√ó</button>
        <div class="login-modal__content">
            <div class="login-showcase">
                <span class="brand-icon">üì∫</span>
                <h3 id="login-modal-title">EV SWAP</h3>
                <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ truy c·∫≠p ƒë·∫ßy ƒë·ªß c√°c ch·ª©c nƒÉng ƒë·ªïi pin th√¥ng minh.</p>
                <ul>
                    <li>Qu·∫£n l√Ω ph∆∞∆°ng ti·ªán v√† ƒë·ªïi pin</li>
                    <li>Theo d√µi l·ªãch s·ª≠ ho√° ƒë∆°n</li>
                    <li>Nh·∫≠n h·ªó tr·ª£ ∆∞u ti√™n 24/7</li>
                </ul>
            </div>
            <div class="login-form-card">
                <h4>ƒêƒÉng nh·∫≠p t√†i kho·∫£n</h4>
                <p>Nh·∫≠p th√¥ng tin ƒë·ªÉ ti·∫øp t·ª•c s·ª≠ d·ª•ng dashboard.</p>
                <form th:action="@{/login}" method="get">
                    <div class="input-group">
                        <label for="modal-email">Email</label>
                        <input id="modal-email" name="email" type="email" placeholder="example@email.com" required>
                    </div>
                    <div class="input-group">
                        <label for="modal-password">M·∫≠t kh·∫©u</label>
                        <input id="modal-password" name="password" type="password" placeholder="********" required>
                    </div>
                    <button type="submit" class="btn primary full">ƒêƒÉng nh·∫≠p</button>
                </form>
                <p class="register-hint">Ch∆∞a c√≥ t√†i kho·∫£n? <a th:href="@{/register}">ƒêƒÉng k√Ω ngay</a></p>
            </div>
        </div>
    </div>
</div>

<script>
    const loginModal = document.getElementById('login-modal');

    function openLoginModal() {
        if (loginModal) {
            loginModal.removeAttribute('hidden');
            document.body.classList.add('modal-open');
        }
    }

    function closeLoginModal() {
        if (loginModal) {
            loginModal.setAttribute('hidden', '');
            document.body.classList.remove('modal-open');
        }
    }

    window.addEventListener('keydown', function (event) {
        if (event.key === 'Escape' && !loginModal.hasAttribute('hidden')) {
            closeLoginModal();
        }
    });
</script>
</body>
</html>
